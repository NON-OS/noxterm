# NOXTERM Backend Environment Variables
# Copy this file to .env and adjust values for your setup

# ==================== Server Configuration ====================
SERVER_HOST=0.0.0.0
SERVER_PORT=3001
ENVIRONMENT=development

# Logging level (error, warn, info, debug, trace)
RUST_LOG=noxterm=info,tower_http=info

# ==================== Docker Configuration ====================
# Optional: explicitly set Docker socket path
# If not set, auto-detection is used (recommended)
# DOCKER_HOST=unix:///var/run/docker.sock

# ==================== Phase 2: Database (PostgreSQL) ====================
# Required for session persistence, lifecycle management, and audit logging
# If not set, falls back to in-memory session storage (not recommended for production)
# DATABASE_URL=postgresql://noxterm:password@localhost:5432/noxterm

# ==================== Container Lifecycle ====================
# Grace period (seconds) before cleaning up disconnected sessions
GRACE_PERIOD_SECONDS=300

# Maximum containers allowed per user
MAX_CONTAINERS_PER_USER=3

# ==================== Rate Limiting ====================
# Requests per window for API endpoints
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_SECONDS=60

# ==================== Security & Audit ====================
# Enable comprehensive audit logging
ENABLE_AUDIT_LOGGING=true

# Enable command logging (privacy consideration - disabled by default)
ENABLE_COMMAND_LOGGING=false

# ==================== Anyone Protocol (Privacy Mode) ====================
ANYONE_SOCKS_PORT=9050
ANYONE_CONTROL_PORT=9051

# ==================== Legacy Settings (for reference) ====================
# Container resource limits (handled by AppState now)
# CONTAINER_MEMORY_LIMIT=1024m
# CONTAINER_CPU_LIMIT=1.0
# CONTAINER_NETWORK=bridge
